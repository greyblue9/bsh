
public static com.google.common.collect.Multimap getMemberMap(Class cls) { Method[] mtds = null; try { mtds = Class.getDeclaredMethods(cls, false); } catch (Throwable e) { System.err.println(Reflector.getRootCause(e)); mtds = new Method[0]; }; Constructor[] ctors = null; try { ctors = Class.getDeclaredConstructors(cls, false); } catch (Throwable e) { System.err.println(Reflector.getRootCause(e)); ctors = new Constructor[0]; }; Method clinit = null; try { clinit = Class.getDeclaredConstructorOrMethod(cls, "<clinit>", new Class[0]); } catch (ReflectiveOperationException e) {  }; com.google.common.collect.Multimap mmap = com.google.common.collect.MultimapBuilder.treeKeys().hashSetValues().build(); mtds.select(FunctionUtil.bind("return m -> { map.put(m.getName(), m); null; }", "map", mmap)); ctors.select(FunctionUtil.bind("return m -> { map.put(\"<init>\", m); null; }", "map", mmap)); if (clinit != null) CollectionUtil.toArray(Arrays.asList(clinit)).select(FunctionUtil.bind("return m -> { map.put(m.getName(), m); null; }", "map", mmap)); return mmap; };

