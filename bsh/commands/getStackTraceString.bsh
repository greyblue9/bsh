public static String getStackTraceString(String s) { if (s.indexOf("at ") == -1) { return String.format("java.lang.Error\n%s\n\n", StringUtils.join(clips[1].matchLines("([a-zA-Z0-9_$]+[^\n]*\\))").select(FunctionUtil.bind("return m -> { String.format(\"%s%s\", c, m[0]); }", "c", "\tat ")),"\n")); }; return s.trim().replaceAll("(^|\n)[\t /*]*(?:at |)*(((?!at )[a-zA-Z0-9_$])[^\n]*)", "\n\t$2"); };