

public static String getTypeName(dalvik.system.DexPathList.Element dexElement, int typeIndex) { String[] classNames = DexFile.getClassNameList(dexElement.dexFile.mCookie); String className0 = null; int index = -1; Class cls0 = null; List<Throwable> errors = new ArrayList<Throwable>(); Dex dex = null; ClassLoader classLoader = Thread.currentThread().getContextClassLoader(); while (cls0 == null && (++index) < classNames.length) { try { cls0 = dexElement.dexFile.loadClassBinaryName(className0, classLoader, errors); dex = org.d6r.ClassInfo.getDex(cls0); } catch (Throwable ex) { Log.warn("getTypeName", "loadClassBinaryName() failed for classDef[%d] (\"%s\") of dex element %s; trying next one [%s].", index, className0, dexElement, Reflector.getRootCause(ex)); errors.add(ex); }; }; if (cls0 == null || dex == null) return null; Integer[] typeIds = dex.typeIds.toArray(new Integer[0]); int typeId = typeIds[typeIndex].intValue(); String typeName = dex.strings()[typeId]; return typeName; };

