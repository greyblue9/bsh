
public static void patchSSL() { Object sslMarker = CollectionUtil.dbg.get("__sslMarker__"); if (sslMarker == null) { CollectionUtil.dbg.put("__sslMarker__", Integer.valueOf(1)); Object dexElement = appendClassPathFile("/external_sd/_projects/sdk/gh4a/gh4a.jar"); Map clsMap = RealArrayMap.toMap(DexFile.getClassNameList(dexElement.dexFile.mCookie).select(FunctionUtil.bind("return className -> { Pair.of(className, Reflector.invokeOrDefault(dexElement.dexFile, \"defineClassNative\", className, Thread.currentThread().getContextClassLoader().getParent(), dexElement.dexFile.mCookie)); }", "dexElement", dexElement))); Method mtd = clsMap.get("org.eclipse.egit.github.core.client.GitHubClient").getDeclaredMethod("ensureHttpsSocketFactoryOverrideSet", new Class[0]); mtd.invoke(null); }; };

