
public static String toString2(Object mark) { org.apache.commons.jexl3.parser.Node nmark = mark, top = mark; while ((nmark = nmark.jjtGetParent()) != null) { top = nmark; }; String markSrc = toString(mark), src = toString(top);  String coloredSrc = src.replaceAll(String.format("(%s)", Pattern.quote(markSrc)), "\u001b[1;31m$1\u001b[0m").replaceAll("->\\{ ((?:[^}]|\\}[^ ])*) \\}", " -> {\n  $1\n}\n"); in = FunctionUtil.getEngine().createInterpreter(FunctionUtil.getContext(), new org.apache.commons.jexl3.internal.Scope$Frame(null, new Object[0], 0)); jlambda = Reflect.searchObject(top, org.apache.commons.jexl3.parser.ASTJexlLambda.class, false, 0, 6)[0]; org.apache.commons.jexl3.internal.Interpreter in = FunctionUtil.getEngine().createInterpreter(FunctionUtil.getContext(), new org.apache.commons.jexl3.internal.Scope$Frame(null, new Object[0], 0)); org.apache.commons.jexl3.parser.ASTJexlLambda jlambda = Reflect.searchObject(top, org.apache.commons.jexl3.parser.ASTJexlLambda.class, false, 0, 6)[0]; org.apache.commons.jexl3.internal.Closure recreatedClosure = new org.apache.commons.jexl3.internal.Closure(in, jlambda); return coloredSrc; }

