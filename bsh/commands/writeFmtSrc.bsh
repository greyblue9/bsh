
public static Pair writeFmtSrc(String src, String prefix) { File cwd = new File(PosixFileInputStream.cwd()); File srcDir = new File(cwd, "src"); if (! srcDir.exists()) throw new FileNotFoundException(srcDir.getPath()); Pair className_src_pair = fmtSrc(src, prefix); if (!(className_src_Pair != null && className_src_pair != void && Pair.class.isAssignableFrom(bsh.Factory.typeof(className_src_pair)))) throw new RuntimeException(String.format("Expected fmtSrc(String[length=%d], \"%s\") to return Pair, but got %s", src != null? src.length(): -1, prefix,bsh.Factory.typeof(className_src_pair).getName())); String path = new File(srcDir, ClassInfo.classNameToPath(className_src_pair.getKey(), "java")).getPath(); boolean ok = writeFile(path, (String) className_src_pair.getValue()); if (!ok) throw new RuntimeException(String.format("writeFile(path = \"\", String[length=%d]) returned false", path, className_src_pair.getValue() != null? className_src_pair.getValue().length(): -1)); openc(path); return className_src_pair; };

